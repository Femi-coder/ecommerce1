/* ===================== TOKENS ===================== */
:root{
  --radius:14px; --radius-sm:10px;
  --primary:#1a4fff;

  --bg:#fafafa;
  --panel:#ffffff;
  --text:#111111;
  --muted:#6b7280;
  --border:#e5e7eb;

  --shadow:0 1px 2px rgba(0,0,0,.06), 0 8px 24px rgba(0,0,0,.06);
}
@media (prefers-color-scheme: dark){
  :root{
    --bg:#0b0c0f; --panel:#12151a; --text:#f5f7fb; --muted:#a3a8b7; --border:#1e232b;
    --shadow:0 1px 2px rgba(0,0,0,.30), 0 8px 24px rgba(0,0,0,.35);
  }
}

/* ===================== BASE (mobile-first) ===================== */
*,*::before,*::after{ box-sizing:border-box; }
html,body{ height:100%; }
html{ -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  background:var(--bg);
  color:var(--text);
  line-height:1.6;
  max-width:100%;
  overflow-x:hidden; /* guard against stray overflow */
}
h1,h2,h3{ font-weight:700; line-height:1.2; margin:0 0 .6rem; }
h1{ font-size:1.5rem; }
h2{ font-size:1.25rem; }
h3{ font-size:1rem; }
p{ color:var(--muted); margin:0 0 1rem; }
a{ color:inherit; text-decoration:none; }
:focus-visible{ outline:2px solid var(--primary); outline-offset:2px; border-radius:6px; }
main{ max-width:1200px; margin:0 auto; padding:16px; }

/* ===================== LAYOUT ===================== */
.layout{
  display:grid;
  grid-template-columns:1fr;   /* stack on mobile */
  gap:16px;
}
.sidebar{
  position:relative;
  top:0;
  align-self:start;
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:12px;
}
.nav{ display:grid; gap:6px; list-style:none; padding:0; margin:0; }
.nav a{
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 12px; border-radius:var(--radius-sm);
  transition:background .15s ease,color .15s ease;
}
.nav a:hover{ background:color-mix(in oklab, var(--panel) 92%, black); }
.nav a.active{
  background:color-mix(in oklab, var(--panel) 88%, var(--primary));
  color:var(--primary);
}

/* ===================== BUTTONS ===================== */
button,.btn{
  padding:10px 14px;
  border-radius:var(--radius);
  border:1px solid var(--border);
  background:var(--panel);
  color:var(--text);
  cursor:pointer;
  font-weight:600;
  transition: background .15s ease, transform .06s ease, border-color .15s ease, box-shadow .15s ease;
  box-shadow:0 0 0 rgba(0,0,0,0);
}
button:hover,.btn:hover{ background:color-mix(in oklab, var(--panel) 92%, black); }
button:active,.btn:active{ transform:translateY(1px); }
.btn-primary{ background:var(--primary); border-color:var(--primary); color:#fff; }
.btn-primary:hover{ filter:brightness(.95); }

/* ===================== CARDS / GRID ===================== */
.card{
  background:var(--panel);
  padding:12px;
  border-radius:var(--radius);
  border:1px solid var(--border);
  box-shadow:var(--shadow);
  transition: box-shadow .18s ease, transform .06s ease, border-color .18s ease;
}
.card:hover{ box-shadow:0 2px 6px rgba(0,0,0,.07), 0 12px 28px rgba(0,0,0,.08); }
.card:active{ transform:translateY(1px); }

.grid{
  display:grid;
  gap:12px;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); /* phone grid */
  justify-content:start;
}

/* Product tile layout */
.product-card{ display:flex; flex-direction:column; }
.card__row{ display:flex; align-items:flex-start; justify-content:space-between; gap:.75rem; margin-top:.9rem; }
.card__title{ font-weight:600; line-height:1.35; }
.product-card .actions{ margin-top:auto; }                 /* pin actions to bottom */
.product-card .btn{ width:auto; align-self:flex-start; padding:8px 14px; } /* no full-width buttons */

/* ===================== IMAGE BOX (uniform) ===================== */
.imgbox{
  --aspect: 4 / 5;     /* mobile default; desktop overrides to 3/4 */
  --fit: cover;        /* set 'contain' when needed (shoes, caps) */
  position:relative;
  border-radius:var(--radius);
  overflow:hidden;
  background: color-mix(in oklab, var(--panel) 85%, white);
  aspect-ratio: var(--aspect);
}
.imgbox .img{
  width:100%;
  height:100%;
  object-fit: var(--fit, cover);
}
.imgbox__fallback{ height:100%; display:grid; place-items:center; color:var(--muted); }

/* ===================== UTILITIES ===================== */
.muted{ color:var(--muted); }
.price{ font-weight:600; }
.mt-2{ margin-top:.5rem; } .mt-3{ margin-top:.75rem; } .mt-4{ margin-top:1rem; }
.mb-2{ margin-bottom:.5rem; }

/* Subcategory heading */
.subcategory-title{
  font-size:1.1rem;
  font-weight:700;
  color:var(--primary);
  margin-bottom:12px;
}

/* ===================== SKELETONS ===================== */
.card--skeleton .imgbox{ background:#f1f1f1; }
.sk-line{ height:14px; margin-top:12px; border-radius:8px; background:#eee; }
.sk-line--short{ width:35%; }
.sk-btn{ height:40px; margin-top:14px; border-radius:var(--radius); background:#eee; }

/* ===================== CART (desktop table + mobile cards) ===================== */
.cart-wrap{ overflow-x:auto; }  /* table scroll lives inside the card, not page */

@media (max-width:640px){
  .cart-wrap table{ display:none; }   /* hide desktop table on phone */

  .cart-list{ display:grid; gap:12px; }
  .cart-card{
    display:grid;
    grid-template-columns:64px 1fr auto;
    gap:12px;
    align-items:center;
    border:1px solid var(--border);
    border-radius:var(--radius);
    background:var(--panel);
    padding:10px;
  }
  .cart-card img{ width:64px; height:64px; object-fit:cover; border-radius:8px; }
  .cart-card .name{ font-weight:600; line-height:1.2; }
  .cart-card .qty{ display:flex; gap:8px; align-items:center; justify-content:flex-end; }
}

/* Clear + Summary row */
.cart-actions{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:16px;
  flex-wrap:wrap;
}
.cart-summary{ min-width:260px; } /* desktop size */
@media (max-width:640px){
  .cart-actions{ flex-direction:column; }
  .cart-summary{ width:100%; min-width:0; } /* allow shrinking on phone */
}

/* ===================== ENHANCEMENTS (wider screens) ===================== */
@media (min-width:768px){
  main{ padding:24px; }
  h1{ font-size:2rem; }
  h2{ font-size:1.5rem; }
  .grid{ gap:16px; grid-template-columns: repeat(auto-fit, minmax(220px, 280px)); }
  .imgbox{ --aspect: 3 / 4; } /* nicer on desktop */
}

@media (min-width:1024px){
  .layout{ grid-template-columns:240px 1fr; gap:24px; } /* sidebar + content on desktop */
  .sidebar{ position:sticky; top:16px; }
}
.navbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 16px;
  background: var(--panel);
  border-bottom: 1px solid var(--border);
}

.logo { font-weight: 700; }

.burger {
  font-size: 1.5rem;
  background: none;
  border: none;
  cursor: pointer;
  display: none;
}

/* Sidebar default (desktop) */
.sidebar {
  display: flex;
  gap: 16px;
}

/* Mobile sidebar */
@media (max-width: 768px) {
  .burger { display: block; }

  .sidebar {
    position: fixed;
    top: 0;
    left: -100%;
    width: 220px;
    height: 100%;
    background: var(--panel);
    flex-direction: column;
    padding: 16px;
    gap: 12px;
    transition: left 0.3s ease;
    z-index: 100;
  }

  .sidebar.open { left: 0; }
}
/* Top bar (mobile only) */
.topbar {
  display: none;
  align-items: center;
  justify-content: space-between;
  padding: 12px 16px;
  background: var(--panel);
  border-bottom: 1px solid var(--border);
}

.burger {
  font-size: 1.6rem;
  background: none;
  border: none;
  cursor: pointer;
}

.logo {
  font-weight: 700;
  font-size: 1.2rem;
}

/* Sidebar default (desktop) */
.sidebar {
  width: 240px;
}

/* Mobile sidebar */
@media (max-width: 768px) {
  .topbar { display: flex; }

  .sidebar {
    position: fixed;
    top: 0;
    left: -100%;
    height: 100%;
    width: 220px;
    background: var(--panel);
    padding: 16px;
    border-right: 1px solid var(--border);
    transition: left 0.3s ease;
    z-index: 100;
  }

  .sidebar.open {
    left: 0;
  }
}
